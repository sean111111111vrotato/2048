<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2048 â€” Tinorpicin Edition</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #faf8ef;
        color: #776e65;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        height: 100vh;
        padding-top: 40px;
    }
    h1 {
        margin-bottom: 20px;
    }
    #game-container {
        background: #bbada0;
        border-radius: 8px;
        padding: 10px;
        display: grid;
        grid-template-columns: repeat(4, 80px);
        grid-gap: 10px;
    }
    .tile {
        width: 80px;
        height: 80px;
        background: #cdc1b4;
        border-radius: 4px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 24px;
        color: #776e65;
    }
    .tile[data-value="2"] { background: #eee4da; }
    .tile[data-value="4"] { background: #ede0c8; }
    .tile[data-value="8"] { background: #f2b179; color: white; }
    .tile[data-value="16"] { background: #f59563; color: white; }
    .tile[data-value="32"] { background: #f67c5f; color: white; }
    .tile[data-value="64"] { background: #f65e3b; color: white; }
    .tile[data-value="128"] { background: #edcf72; color: white; }
    .tile[data-value="256"] { background: #edcc61; color: white; }
    .tile[data-value="512"] { background: #edc850; color: white; }
    .tile[data-value="1024"] { background: #edc53f; color: white; }
    .tile[data-value="2048"] { background: #edc22e; color: white; }

    /* Go Back Button */
    #goBack {
        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #6fd3f7, #f8a5c2);
        color: white;
        padding: 15px 35px;
        border-radius: 50px 50px 0 0;
        font-weight: bold;
        text-decoration: none;
        box-shadow: 0 -4px 8px rgba(0,0,0,0.2);
    }
</style>
</head>
<body>

<h1>ðŸŽ¯ 2048 â€” Tinorpicin Edition</h1>
<div id="game-container"></div>

<a id="goBack" href="index.html">â¬… Go Back</a>

<script>
const container = document.getElementById("game-container");
let grid = Array(4).fill().map(()=>Array(4).fill(0));

function randomTile() {
    let empties = [];
    grid.forEach((row,i)=>row.forEach((v,j)=>{
        if (v===0) empties.push([i,j]);
    }));
    if (empties.length > 0) {
        let [i,j] = empties[Math.floor(Math.random()*empties.length)];
        grid[i][j] = Math.random() < 0.9 ? 2 : 4;
    }
}

function draw() {
    container.innerHTML = "";
    grid.forEach(row=>{
        row.forEach(val=>{
            const t = document.createElement("div");
            t.className = "tile";
            if (val) t.textContent = val;
            if (val) t.dataset.value = val;
            container.appendChild(t);
        });
    });
}

function slide(row) {
    row = row.filter(v=>v);
    for (let i=0;i<row.length-1;i++) {
        if (row[i]===row[i+1]) {
            row[i]*=2;
            row[i+1]=0;
        }
    }
    row = row.filter(v=>v);
    while (row.length<4) row.push(0);
    return row;
}

function rotate() {
    let newGrid = Array(4).fill().map(()=>Array(4).fill(0));
    for (let i=0;i<4;i++)
        for (let j=0;j<4;j++)
            newGrid[i][j] = grid[j][3-i];
    grid = newGrid;
}

function move(direction) {
    let old = JSON.stringify(grid);
    for (let i=0;i<direction;i++) rotate();
    grid = grid.map(slide);
    for (let i=0;i<(4-direction)%4;i++) rotate();
    if (JSON.stringify(grid) !== old) {
        randomTile();
        draw();
    }
}

document.addEventListener("keydown", e=>{
    if (e.key==="ArrowLeft") move(0);
    if (e.key==="ArrowUp") move(1);
    if (e.key==="ArrowRight") move(2);
    if (e.key==="ArrowDown") move(3);
});

randomTile();
randomTile();
draw();
</script>

</body>
</html>
